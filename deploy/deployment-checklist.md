# Destiny 项目部署检查清单 ✅

在部署到生产环境之前，请确保完成以下检查项目：

## 🏗️ 构建前检查

- [ ] 确认项目代码已提交到版本控制系统
- [ ] 运行所有测试并确保通过
- [ ] 确认所有依赖项版本兼容
- [ ] 检查环境变量配置是否正确
- [ ] 验证 Docker 环境可用

## 🐳 镜像构建检查

- [ ] 确认 Docker 镜像仓库访问权限
- [ ] 验证 Dockerfile 配置无误
- [ ] 确认镜像标签策略（版本号）
- [ ] 检查镜像大小是否合理
- [ ] 验证多架构支持（如需要）

## 🔧 配置文件检查

### Kubernetes 配置
- [ ] 检查所有 YAML 文件语法正确
- [ ] 确认镜像地址正确
- [ ] 验证命名空间配置
- [ ] 检查资源限制设置合理
- [ ] 确认健康检查配置

### 网络配置
- [ ] 验证 Service 端口配置
- [ ] 检查 Ingress 域名设置
- [ ] 确认 CORS 配置正确
- [ ] 验证 SSL/TLS 证书配置

### 环境变量
- [ ] API_URL 指向正确的 API 服务
- [ ] 时区设置正确
- [ ] 运行环境设置为 production

## 🚀 部署前检查

- [ ] 确认 Sealos 账户权限充足
- [ ] 验证镜像仓库连接正常
- [ ] 检查集群资源是否充足
- [ ] 确认域名 DNS 解析正确
- [ ] 备份现有部署（如有）

## 📊 部署后验证

### 基础功能验证
- [ ] 所有 Pod 状态为 Running
- [ ] 服务端点可访问
- [ ] Web 应用加载正常
- [ ] API 健康检查通过

### 网络连通性
- [ ] 外部域名可正常访问
- [ ] HTTPS 证书正常
- [ ] API 跨域请求正常
- [ ] 内部服务通信正常

### 性能验证
- [ ] 应用响应时间正常
- [ ] 资源使用率合理
- [ ] 日志输出正常
- [ ] 错误率在可接受范围

## 🔍 监控设置

- [ ] 配置应用监控
- [ ] 设置告警规则
- [ ] 确认日志收集正常
- [ ] 配置性能监控

## 🛡️ 安全检查

- [ ] 容器以非 root 用户运行
- [ ] 网络策略配置正确
- [ ] 敏感信息使用 Secret 管理
- [ ] 镜像漏洞扫描通过

## 📋 文档检查

- [ ] 部署文档完整
- [ ] 运维手册更新
- [ ] 故障排查指南准备
- [ ] 回滚方案准备

## 🔄 回滚准备

- [ ] 准备回滚脚本
- [ ] 确认回滚策略
- [ ] 测试回滚流程
- [ ] 准备应急联系人

---

## 📝 部署记录

**部署日期**: ___________
**部署版本**: ___________
**部署人员**: ___________
**检查人员**: ___________

### 部署环境信息

- **Sealos 集群**: ___________
- **命名空间**: ___________
- **镜像版本**: ___________
- **域名**: ___________

### 部署结果

- [ ] 部署成功
- [ ] 部署失败（原因：___________）

### 备注

___________________________________________________________________________
___________________________________________________________________________
___________________________________________________________________________

---

**签名确认**

部署负责人：___________ 日期：___________
检查负责人：___________ 日期：___________
